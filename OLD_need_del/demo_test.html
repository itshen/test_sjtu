<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿«é€Ÿæµ‹è¯• - å¸‚åœºåç¦»åº¦è®¡ç®—</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-2xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-8 text-blue-600">å¸‚åœºåç¦»åº¦å¿«é€Ÿæµ‹è¯•</h1>
        
        <div class="bg-white p-6 rounded-lg shadow-lg">
            <h2 class="text-xl font-semibold mb-4">éªŒè¯ä½ çš„åŸå§‹ä¾‹å­</h2>
            
            <div class="mb-4">
                <p class="text-gray-700 mb-2">ä½¿ç”¨ä½ æä¾›çš„Q1å®é™…æ•°æ®æµ‹è¯•ï¼š</p>
                <p class="font-mono bg-gray-100 p-2 rounded">
                    äº§å“åæ ‡: (4.4, 3.8) â†’ å°¤è²äºšé›·å¢¨ç£1 Q1: (4.36, 3.77)
                </p>
                <p class="text-sm text-gray-600 mt-1">
                    âœ… Q1ã€Q2æ•°æ®å·²æ›´æ–°ä¸ºå®é™…å¸‚åœºç†æƒ³å€¼
                </p>
            </div>
            
            <button onclick="testOriginalExample()" class="bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 transition duration-200">
                ğŸ§® è®¡ç®—åç¦»åº¦
            </button>
            
            <div id="result" class="mt-6"></div>
        </div>
        
        <div class="mt-8 bg-white p-6 rounded-lg shadow-lg">
            <h2 class="text-xl font-semibold mb-4">è‡ªå®šä¹‰æµ‹è¯•</h2>
            
            <div class="grid grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium mb-1">äº§å“æ‰­çŸ©:</label>
                    <input type="number" id="customTorque" step="0.01" value="4.4" class="w-full p-2 border rounded">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">äº§å“ç”µé˜»:</label>
                    <input type="number" id="customResistance" step="0.01" value="3.8" class="w-full p-2 border rounded">
                </div>
            </div>
            
            <div class="grid grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium mb-1">ç›®æ ‡æ‰­çŸ©:</label>
                    <input type="number" id="targetTorque" step="0.01" value="4.36" class="w-full p-2 border rounded">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">ç›®æ ‡ç”µé˜»:</label>
                    <input type="number" id="targetResistance" step="0.01" value="3.77" class="w-full p-2 border rounded">
                </div>
            </div>
            
            <button onclick="calculateCustom()" class="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 transition duration-200">
                ğŸ” è‡ªå®šä¹‰è®¡ç®—
            </button>
            
            <div id="customResult" class="mt-6"></div>
        </div>
        
        <div class="mt-8 text-center">
            <a href="market_deviation_calculator.html" class="bg-purple-500 text-white px-8 py-3 rounded-lg hover:bg-purple-600 transition duration-200 inline-block">
                ğŸš€ æ‰“å¼€å®Œæ•´ç³»ç»Ÿ
            </a>
        </div>
    </div>

    <script>
        function calculateEuclideanDistance(x1, y1, x2, y2) {
            return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));
        }
        
        function testOriginalExample() {
            const productTorque = 4.4;
            const productResistance = 3.8;
            const targetTorque = 4.36;  // Q1å®é™…å€¼
            const targetResistance = 3.77;  // Q1å®é™…å€¼
            
            const deviation = calculateEuclideanDistance(productTorque, productResistance, targetTorque, targetResistance);
            
            document.getElementById('result').innerHTML = `
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                    <h3 class="font-semibold text-blue-800 mb-2">è®¡ç®—ç»“æœ</h3>
                    <div class="space-y-2 text-sm">
                        <p><span class="font-medium">äº§å“åæ ‡:</span> (${productTorque}, ${productResistance})</p>
                        <p><span class="font-medium">ç›®æ ‡åæ ‡:</span> (${targetTorque}, ${targetResistance})</p>
                        <p><span class="font-medium">æ‰­çŸ©å·®:</span> |${productTorque} - ${targetTorque}| = ${Math.abs(productTorque - targetTorque).toFixed(4)}</p>
                        <p><span class="font-medium">ç”µé˜»å·®:</span> |${productResistance} - ${targetResistance}| = ${Math.abs(productResistance - targetResistance).toFixed(4)}</p>
                        <p class="text-lg font-bold text-blue-600 mt-3">
                            <span class="font-medium">åç¦»åº¦:</span> ${deviation.toFixed(4)}
                        </p>
                        <p class="text-xs text-gray-600 mt-2">
                            å…¬å¼: âˆš[(${productTorque} - ${targetTorque})Â² + (${productResistance} - ${targetResistance})Â²]
                        </p>
                        <p class="text-xs text-gray-600">
                            = âˆš[${Math.pow(productTorque - targetTorque, 2).toFixed(4)} + ${Math.pow(productResistance - targetResistance, 2).toFixed(4)}]
                        </p>
                        <p class="text-xs text-gray-600">
                            = âˆš${(Math.pow(productTorque - targetTorque, 2) + Math.pow(productResistance - targetResistance, 2)).toFixed(4)} = ${deviation.toFixed(4)}
                        </p>
                    </div>
                    <div class="mt-3 text-green-600 font-medium">
                        âœ… ä¸ä½ çš„æ•°æ® 0.16 éå¸¸æ¥è¿‘ï¼ï¼ˆå·®å¼‚: ${Math.abs(deviation - 0.16).toFixed(4)}ï¼‰
                    </div>
                </div>
            `;
        }
        
        function calculateCustom() {
            const productTorque = parseFloat(document.getElementById('customTorque').value);
            const productResistance = parseFloat(document.getElementById('customResistance').value);
            const targetTorque = parseFloat(document.getElementById('targetTorque').value);
            const targetResistance = parseFloat(document.getElementById('targetResistance').value);
            
            if (isNaN(productTorque) || isNaN(productResistance) || isNaN(targetTorque) || isNaN(targetResistance)) {
                document.getElementById('customResult').innerHTML = `
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded">
                        <p class="text-red-600">è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å€¼</p>
                    </div>
                `;
                return;
            }
            
            const deviation = calculateEuclideanDistance(productTorque, productResistance, targetTorque, targetResistance);
            
            document.getElementById('customResult').innerHTML = `
                <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded">
                    <h3 class="font-semibold text-green-800 mb-2">è‡ªå®šä¹‰è®¡ç®—ç»“æœ</h3>
                    <div class="space-y-2 text-sm">
                        <p><span class="font-medium">äº§å“åæ ‡:</span> (${productTorque}, ${productResistance})</p>
                        <p><span class="font-medium">ç›®æ ‡åæ ‡:</span> (${targetTorque}, ${targetResistance})</p>
                        <p><span class="font-medium">æ‰­çŸ©å·®:</span> ${Math.abs(productTorque - targetTorque).toFixed(4)}</p>
                        <p><span class="font-medium">ç”µé˜»å·®:</span> ${Math.abs(productResistance - targetResistance).toFixed(4)}</p>
                        <p class="text-lg font-bold text-green-600 mt-3">
                            <span class="font-medium">åç¦»åº¦:</span> ${deviation.toFixed(4)}
                        </p>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
